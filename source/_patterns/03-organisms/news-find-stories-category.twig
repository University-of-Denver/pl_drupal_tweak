<div class="find-stories-by-categories buffer-on-inner-row">
  <div class="row small-up-1 medium-up-2 large-up-3">
    {% set category_count = 0 %}
    {% for category in stories %}
      {% if category.stories is not empty %}
        {% set category_count = category_count + 1 %}
        {% set category_tid = category.term %}
        {% set category_link = '/news/category/' ~ category.term_name | replace({' ': '-'}) | lower %}
        <div class="stories-by-category columns">
          <h3 class="article-category"><a href="{{ category_link }}">{{ category.term_name }}<span class="icon-du-chevron-circle-right"></span></a></h3>
          {% for story in category.stories %}
            <ul class="stories">
              <li class="story"><span class="icon-du-cust-right-arrow"></span><a href="{{ story.path }}" class="">{{ story.title }}</a></li>
            </ul>
          {% endfor %}
        </div>
      {% endif %}
    {% endfor %}
  </div>
  {% if ( category_count < 4 ) and ( category_count != 0 ) %}
    <div class="background"></div>
  {% elseif ( category_count < 7 ) and ( category_count > 3 ) %}
    <div class="background six"></div>
  {% elseif ( category_count < 10 ) and ( category_count > 6 ) %}
    <div class="background nine"></div>
  {% elseif ( category_count < 13 ) and ( category_count > 6 ) %}
    <div class="background twelve"></div>
  {% elseif ( category_count < 16 ) and ( category_count > 12 ) %}
    <div class="background fifteen"></div>
  {% elseif ( category_count < 19 ) and ( category_count > 15 ) %}
    <div class="background eighteen"></div>
  {% endif %}
</div>
